<!--
  (C) 2020 NETDUMA Software
  Luke Meppem
--> <!--
Custom property | Description | Default
----------------|-------------|----------
`--duma-days-color`         | color of inactive days          | `--disabled-text-color`
`--duma-days-color-block`   | color of blocked active days    | `--rating-d`
`--duma-days-color-reject`  | color of rejected active days   | `--rating-c`
`--duma-days-color-allow`   | color of allowed active days    | `--rating-a`
--> <link rel="import" href="/custom-elements/polymer/polymer.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/libs/cron.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <dom-module is="duma-days"> ​ <template> <style is="custom-style"> .container {
        display: flex;
        flex-direction: row;
        justify-content: space-evenly;
      }
      :host[vertical] .container {
        flex-direction: column;
      }

      .container > span {
        color: var(--duma-days-color,--disabled-text-color);
      }
      .container > span[active] {
        color: var(--duma-days-color,--primary-color);
      }      
      :host[allow=block] .container > span[active] {
        color: var(--duma-days-color-block, --rating-d);
      }
      :host[allow=reject] .container > span[active] {
        color: var(--duma-days-color-reject, --rating-c);
      }
      :host[allow=allow] .container > span[active] {
        color: var(--duma-days-color-allow, --rating-a);
      } </style> <div class="container"> <span active$="[[sunday]]"><%= i18n.sundayShort %></span> <span active$="[[monday]]"><%= i18n.mondayShort %></span> <span active$="[[tuesday]]"><%= i18n.tuesdayShort %></span> <span active$="[[wednesday]]"><%= i18n.wednesdayShort %></span> <span active$="[[thursday]]"><%= i18n.thursdayShort %></span> <span active$="[[friday]]"><%= i18n.fridayShort %></span> <span active$="[[saturday]]"><%= i18n.saturdayShort %></span> </div> </template> <script> Polymer({
      is: "duma-days",

      properties: {
        vertical: {
          type: Boolean,
          value: false,
        },
        cron: {
          type: Object,
          value: null,
          observer: "parseCron"
        },


        sunday: {
          type: Boolean,
          value: false,
        },
        monday: {
          type: Boolean,
          value: false,
        },
        tuesday: {
          type: Boolean,
          value: false,
        },
        wednesday: {
          type: Boolean,
          value: false,
        },
        thursday: {
          type: Boolean,
          value: false,
        },
        friday: {
          type: Boolean,
          value: false,
        },
        saturday: {
          type: Boolean,
          value: false,
        },
      },
      
      setDay: function(index,val){
        switch(index){
          case 0:
            this.sunday = val;
            break;
          case 1:
            this.monday = val;
            break;
          case 2:
            this.tuesday = val;
            break;
          case 3:
            this.wednesday = val;
            break;
          case 4:
            this.thursday = val;
            break;
          case 5:
            this.friday = val;
            break;
          case 6:
            this.saturday = val;
            break;
        }
        return this;
      },

      parseCron: function(cron){
        if(cron){
          if(typeof(cron) === "string") cron = new Cron(cron);
          for(var i = 0; i < cron.weekdays.length; i++){
            this.setDay(i,cron.weekdays[i]);
          }
        }
      },
    }); </script> ​ </dom-module> 