<%
  require("libos")
  
  local platform_information = os.platform_information()

  local running = os.execute("/dumaos/dumaos-running.sh 1> /dev/null 2> /dev/null") == 0

  local dumaos_enabled = os.dumaos_enabled()
  local dumaos_suspended = os.dumaos_suspended()
%>
{
  "vendor": "<%= platform_information.vendor %>",
  "odm": "<%= platform_information.odm %>",
  "chipset": "<%= platform_information.chipset %>",
  "model": "<%= platform_information.model %>",
  "altModel": "<%= platform_information.altModel or "" %>",
  "sdk": "<%= platform_information.sdk %>",
  "flavour": "<%= platform_information.flavour or "" %>",
  "firmware" : "<%= os.firmware_version() %>",
  "dumaos" : "<%= os.dumaos_version() %>",
  "running" : "<%= running %>",
  "enabled" : <%= dumaos_enabled %>,
  "suspended" : <%= dumaos_suspended %>
}