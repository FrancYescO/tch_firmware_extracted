
<%
require "libos"

local platform_information = os.platform_information()
%>
<!DOCTYPE html>
<html lang="en">
  <head>
    <noscript>
      <meta http-equiv="refresh" content="0;URL='index.htm'">
    </noscript>
    
    <title>DumaOS</title>    

    <script type="text/javascript" src="/nd-js/browser-setup.js"></script>

    <style>
      <%in /www/desktop/preloader.css %>
    </style>
    
    <link rel="import" href="/libs/jquery.html">
    <link rel="import" href="/themes/<%= current_theme %>/duma-theme.html">

    <link rel="apple-touch-icon" sizes="180x180" href="favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="favicons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="favicons/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="favicons/fav.json">
    <link rel="mask-icon" href="favicons/safari-pinned-tab.svg" color="#da333c">
    
    <style is="custom-style" include="duma-theme iron-flex iron-positioning">
      .loading.hidden {
        opacity: 0;
        visibility: hidden;
        transition: opacity ease 250ms, visibility ease 250ms;
      }

      .loading {
        display: block;
        height: 100vh;
        width: 100vw;
        background-color: #ffffff;
        background-size: cover;
        position: fixed;
        right: 0;
        bottom: 0;
        z-index: 100;
        opacity: 1;
        visibility: visible;
        transition: opacity ease 250ms, visibility ease 250ms;
      }

      .loading .loader {
        margin: 0 auto;
        position: relative;
        margin-top: -14px;
        top: 50%;
        text-align: center;
      }
      .main-wrapper {
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        color: black;
        font-family: Roboto;
      }
      .main-wrapper .title {
        white-space: pre-line;
        text-align: center;
        overflow: visible;
      }
      h2.title {
        font-size: 3.5em;
        line-height: 1.1;
        margin-bottom: 0;
      }
      h4.title {
        font-size: 2em;
        line-height: 1.1;
      }
      h4.title > span {
        white-space: nowrap;
      }
      .desc {
        max-width: 30em;
        font-size: 1.3em;
        text-align: center;
      }
      .main-image {
        width: 100%;
        height: 100%;
        min-height: 10em;
      }
      .get-link {
        background-color: #ED3C96;
        color: white;
        width: 12em;
        height: auto;
        font-size: 2em;
        border-radius: 0.1em;
        padding: 0.6em;
        text-align: center;
        cursor: pointer;
        transition: color 0.1s;
      }
      .get-link:hover {
        background-color: #F79ABE;
      }
      .get-link:active {
        background-color: #620C67;
      }
      .get-link.but-blue {
        width: 18em;
        font-size: initial;
        background-color: <%= theme.PRIMARY_COLOR %>;
      }
      .get-link.but-blue:hover {
        background-color: <%= theme.LIGHT_PRIMARY_COLOR %>;
      }
      .get-link.but-blue:active {
        background-color: <%= theme.DARK_PRIMARY_COLOR %>;
      }
      .footer-svg {
        position: relative;
        width: 100%;
        height: 100%;
      }
      .footer-svg > img {
        z-index: -1000;
        width: 100%;
        height: 100%;
        margin-top: -2em;
      }
      .ret-button {
        margin-top: 4em;
      }
      .small-print {
        color: lightgray;
        margin-top: 2em;
      }
      @media only screen and (min-width: 1200px) {
        .footer-svg > img {
          margin-top: -10em;
        }
        .main-image{
          margin-top: -2em;
        }
        .abs-button {
          position: fixed;
          right: -5em;
          top: 3em;
          transform: translate(-50%, 0);
          text-align: center;
        }
      }
    </style>
  </head>
  <body>
    <div class="loading" id="page-loader">
      <div class="loader">
        <div class="preloader-wrapper small active">
          <div class="spinner-layer">
            <div class="circle-clipper left">
              <div class="circle"></div>
            </div><div class="gap-patch">
              <div class="circle"></div>
            </div><div class="circle-clipper right">
              <div class="circle"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="main-wrapper" class="main-wrapper">
      <h2 class="title">Game Optimiser</h2>

      <h4 class="title">Up your game.</h4>

      <p class="desc">Game Optimiser gives you the power to prioritise traffic in your home network, choose servers, help curb lag spikes and more. Powered by DumaOS gaming software for Telstra Smart Modems, it works with most games, connected consoles and devices.</p>

      <img class="main-image" src="/desktop/Game_Optimiser_Buy_Page_Graphic.svg" />
      
      <p class="desc">With features that reduce your ping by blocking distant servers, allocate bandwidth to what matters more, Game Optimiser helps you do what you do best - play.</p>
      
      <div class="footer-svg">
        <img class="main-image" src="/desktop/Game_Optimiser_Buy_Page_Graphic_2.svg" />
      </div>
      <div class="abs-button">
        <a class="get-link" href="https://www.telstra.com/game-optimiser">Get Game Optimiser</a>
      </div>
      <div class="ret-button">
        <% if platform_information.model == "LH1000" then %>
        <a class="get-link but-blue" href="/home.htm?cache=0">Go to Telstra Smart Modem settings</a>
        <% else %>
        <a class="get-link but-blue" href="/home.lp?cache=0">Go to Telstra Smart Modem settings</a>
        <% end %>
      </div>
      <p class="desc small-print">You can only add on the Game Optimiser subscription if you meet the eligibility criteria.</p>
    </div>
  </body>

  <script>
    function setLoaded() {
      $("#page-loader")
        .addClass("hidden")
        .delay(250)
        .remove();
    }
    browserSetup.onReady(function () {
      
      setLoaded();
    });
  </script>
</html>