<link rel="import" href="/custom-elements/polymer/polymer.html"> <link rel="import" href="/custom-elements/duma-alert/duma-alert.html"> <link rel="import" href="/custom-elements/duma-panels/duma-panel.html"> <link rel="import" href="/custom-elements/paper-dialog/paper-dialog.html"> <link rel="import" href="/custom-elements/paper-dialog-scrollable/paper-dialog-scrollable.html"> <link rel="import" href="/custom-elements/iron-flex-layout/iron-flex-layout.html"> <link rel="import" href="/custom-elements/iron-flex-layout/iron-flex-layout-classes.html"> <link rel="import" href="/custom-elements/paper-toggle-button/paper-toggle-button.html"> <link rel="import" href="/custom-elements/paper-dropdown-menu/paper-dropdown-menu.html"> <link rel="import" href="/custom-elements/paper-listbox/paper-listbox.html"> <link rel="import" href="/custom-elements/paper-button/paper-button.html"> <link rel="import" href="/custom-elements/paper-item/paper-item.html"> <link rel="import" href="/custom-elements/paper-spinner/paper-spinner-lite.html"> <link rel="import" href="/custom-elements/paper-checkbox/paper-checkbox.html"> <link rel="import" href="/custom-elements/iron-icons/image-icons.html"> <link rel="import" href="/custom-elements/duma-timewheel/duma-timewheel.html"> <link rel="import" href="/custom-elements/drag-table/drag-table.html"> <link rel="import" href="/libs/jquery.html"> <link rel="import" href="/libs/devices.html"> <link rel="import" href="/libs/q.html"> <link rel="import" href="/libs/cycle.html"> <link rel="import" href="/libs/cron.html"> <link rel="import" href="/apps/com.netdumasoftware.trafficcontroller/desktop/rule-add-dialog.html"> <link rel="import" href="/custom-elements/duma-checkbox-tree/duma-checkbox-tree.html"> <link rel="import" href="/nd-css/duma-icons.html"> <link rel="import" href="/themes/<%= current_theme %>/duma-theme.html"> <style is="custom-style" include="iron-flex iron-positioning iron-flex-factors iron-flex-alignment duma-theme"> .row{
		overflow-y:auto;
		vertical-align: top;
		max-height: 60px;
	}
	div.none span {
		margin-left: 10px;
		display:  none;
	} 
	drag-table ::content .gu-mirror paper-checkbox #checkboxLabel,
	drag-table ::content .gu-mirror paper-toggle-button .toggle-label  {
		display: none;
	}
	.controls  {
		justify-content: flex-end;
		@apply(--layout);
		@apply(--layout-end-justified);
		@apply(--layout-flex-auto);
	}
	duma-timewheel ~ duma-timewheel {
		margin-left: 16px;
	}
	

	drag-table .timewheels {
		width: 100%;
		display: flex;
		flex-direction: column;
		justify-content: flex-start;
		flex-wrap: nowrap;
		overflow: visible;
	}
	drag-table ::content .timewheels > div {
		width: 100%;
		display: flex;
		flex-direction: row;
		justify-content: space-evenly;
		flex-wrap: nowrap;
	}
	drag-table ::content .timewheels > div:first-of-type {
		margin-bottom: 3px;
		margin-top: 5px;
	}
	drag-table ::content .timewheels span[active] {
		color: var(--primary-color);
	}
	drag-table ::content tr > *:first-child,
	drag-table ::content tr > *:nth-child(2),
	drag-table ::content tr > *:nth-child(7),
	drag-table ::content tr > *:nth-child(8){
		width: 0em !important;
	}
	drag-table ::content tr > *:nth-child(8) > div{
		display: flex;
		flex-direction: row;
		justify-content: center;
	}
	drag-table ::content tr > *:nth-child(8) > div > paper-checkbox{
		padding: 0px 0px 0px 8px;
	}
	drag-table ::content tr > *:last-child{
		width: 6em;
		padding-left:3em;
	} </style> <duma-panel header="Traffic Rules" id="firewall-rules-panel" show-pin show-help show-help-tip> <div help-content> <p>Use this feature to control which devices can connect, when they can connect, and what services they can access. Set a schedule to only enforce rules within a certain time period.</p> <p>Press ADD RULE to begin using the feature. Choose Block to prevent connections, and choose Allow to override your Blocks.</p> </div> <div help-tip> <p>The rule at the top of your rules panel is the most ‘important’ rule and will take priority over all other rules. The second rule will be executed after that, and so on.</p> <p>For example, let’s say you want to block every port except for one on your smart home device. The first rule should be to Allow the port you know is safe. The second rule should be to then block all traffic on your smart home device.</p> </div> <div main class="layout vertical"> <div class="buttons inner layout horizontal"> <paper-button background id="add-rule">Add rule</paper-button> <!--<paper-button id="add-preset">Add preset</paper-button>--> <div class="controls"> <paper-toggle-button id="disable-all-rules">Disable All Rules</paper-toggle-button> <paper-icon-button icon="refresh" id="refresh-rules"></paper-icon-button> </div> </div> <br> <div> <drag-table id="firewall-rules" headers='["Priority","Enabled","Rule Name","Devices","Targets","Schedule","Block","Track",""]' switch-reset></drag-table> </div> <rule-add-dialog></rule-add-dialog> <duma-alert></duma-alert> </div> </duma-panel> <script src="/apps/com.netdumasoftware.trafficcontroller/desktop/rules.js"></script> 