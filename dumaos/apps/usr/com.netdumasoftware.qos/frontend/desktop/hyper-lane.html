<!--
  (C) 2017 NETDUMA Software
  Kian Cross
--> <%
require "libos"
local platform = os.platform_information()
%> <link rel="import" href="/custom-elements/duma-panels/duma-panel.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/iron-flex-layout/iron-flex-layout-classes.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-button/paper-button.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-checkbox/paper-checkbox.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/duma-device-selector/duma-device-selector.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-dialog/paper-dialog.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-spinner/paper-spinner-lite.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-dialog/paper-dialog.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-dialog-scrollable/paper-dialog-scrollable.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-listbox/paper-listbox.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-item/paper-item.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-toggle-button/paper-toggle-button.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-icon-button/paper-icon-button.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-radio-button/paper-radio-button.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-radio-group/paper-radio-group.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/granite-led/granite-led.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/themes/<%= current_theme %>/duma-theme.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/libs/jquery.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/libs/rpc.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/libs/q.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/libs/cycle.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/libs/devices.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <style is="custom-style" include="iron-flex iron-positioning duma-theme"> #auto-hyperlane .subtitle {
    display: block;
    font-size: 0.8em;
    margin-top: 2px;
    max-width: 150px;
  }

  #auto-hyperlane {
    align-self: center;
    --paper-checkbox-label-spacing: 0;
    --paper-checkbox-margin: 8px 16px 8px 0;
    --paper-checkbox-vertical-align: top;
  }
  #devices td {
    width: auto !important;
  }
  #devices td.max-width {
    max-width: 200px;
  }
  td div.packets {
    display: flex;
    flex-direction: row;
    justify-content: flex-start;
    align-items: center;
  }
  

  paper-dialog ::content .speed-display {
    display: flex;
    flex-direction: row;
    justify-content: flex-start;
  }
  paper-dialog ::content .speed-display > div {
    margin-left: 5em;
  }

  paper-dialog ::content paper-input.isp-speed-input {
    width: 10em;
  }

  paper-dialog ::content paper-input.isp-speed-input paper-input-container input[type=number]::-webkit-inner-spin-button,
  paper-dialog ::content paper-input.isp-speed-input paper-input-container input[type=number]::-webkit-outer-spin-button {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    margin: 0; 
    display: none;
  }

  #speeds-dialog ::content .upload-speed-display iron-icon {
    fill: var(--accent-color);
  }
  #speeds-dialog ::content .download-speed-display iron-icon {
    fill: var(--primary-color);
  } </style> <link rel="import" href="/apps/com.netdumasoftware.qos/desktop/qos.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <% if platform.vendor == "TELSTRA" then %> <duma-panel header="<%= i18n.header %>" show-pin id="qos-hyperlane-panel" show-help show-drawer> <div drawer> <div class="layout horizontal"> <paper-toggle-button id="hardware-acc-toggle"><%= i18n.fullQoS %></paper-toggle-button> <paper-spinner-lite id="harware-acc-spinner" hidden></paper-spinner-lite> </div> </div> <% else %> <duma-panel header="<%= i18n.header %>" show-pin id="qos-hyperlane-panel" show-help> <% end %> <div help-content> <p> <%= i18n.helpContent1 %> </p> <figure> <img src="/apps/com.netdumasoftware.qos/desktop/help-images/hyper-lane-1.svg?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <figcaption> <%= i18n.helpContentCaption1 %> </figcaption> </figure> <figure> <img src="help-images/hyper-lane-2.svg?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <figcaption> <%= i18n.helpContentCaption2 %> </figcaption> </figure> <p> <%= i18n.helpContent2 %> </p> </div> <div main class="vertical"> <table class="flex-none"> <thead> <tr> <th></th> <th><%= i18n.service %></th> <th><%= i18n.name %></th> <th><%= i18n.downloadPackets %></th> <th><%= i18n.uploadPackets %></th> <th><%= i18n.wirelessType %></th> <th></th> </tr> </thead><thead> </thead><tbody id="devices"> <tr> <td> <paper-toggle-button id="auto-hyperlane" aria-label="<%= i18n.ariaToggleEnableDumaOS %>"></paper-toggle-button> </td> <td><%= i18n.dumaosClassifiedGames %><paper-icon-button id="games-help" icon="help-outline" aria-label="<%= i18n.ariaAppHelpDumaOS %>"></paper-icon-button></td> <td><%= i18n.allDevices %></td> <td> <div class="packets download"> <granite-led></granite-led> <div>0</div> </div> </td> <td> <div class="packets upload"> <granite-led></granite-led> <div>0</div> </div> </td> <td> <div class="wireless-type"> <%= i18n.wirelessTypeGame %> </div> </td> <td> <!-- <paper-icon-button icon="delete-forever"></paper-icon-button> --> </td> </tr> <% if platform.model ~= "XR500" and platform.model ~= "XR700" then %> <tr> <td> <paper-toggle-button id="auto-work" aria-label="<%= i18n.ariaToggleEnableWFH %>"></paper-toggle-button> </td> <td><%= i18n.workAtHome %><paper-icon-button id="work-help" icon="help-outline" aria-label="<%= i18n.ariaAppHelpWFH %>"></paper-icon-button></td> <td><%= i18n.allDevices %></td> <td> <div class="packets download"> <granite-led></granite-led> <div>0</div> </div> </td> <td> <div class="packets upload"> <granite-led></granite-led> <div>0</div> </div> </td> <td> <div class="wireless-type"> <%= i18n.wirelessTypeVideo %> </div> </td> <td> <!-- <paper-icon-button icon="delete-forever"></paper-icon-button> --> </td> </tr> <% end %> </tbody> </table> <div class="buttons inner"> <paper-button background id="add-device"><%= i18n.addDevice %></paper-button> </div> <paper-dialog id="hyperlane-loader-dialog" modal> <h2 dialog-label><%= i18n.applyingSettings %></h2> <div class="layout horizontal center-justified"> <paper-spinner-lite></paper-spinner-lite> </div> </paper-dialog> <duma-device-selector header="<%= i18n.trafficPrioritisationSelectionHeader %>" force-next></duma-device-selector> <duma-alert id="hyperlane-duma-alert"></duma-alert> <% if platform.vendor == "TELSTRA" then %> <paper-dialog id="full-qos-dialog" modal> <h2 dialog-label>Disable Full QoS?</h2> <div dialog-desc> <p> Are you sure you want to disable Full QoS? Disabling Full QoS removes the Congestion Control and Bandwidth Allocation features and is only recommended if your bandwidth speeds are more than 150mbps (almost all users have lower). </p> <p> If you change your mind, you can re-enable Full QoS at any time. </p> <p> Would you like to disable Full QoS? </p> </div> <div class="buttons"> <paper-button id="cancel">No</paper-button> <paper-button id="confirm">Yes</paper-button> </div> </paper-dialog> <paper-dialog id="speeds-dialog" modal> <h2 dialog-label><%= i18n.welcomeHeader %></h2> <div class="inner"> <p> <%= i18n.welcomeQoS %> </p> <p> <%= i18n.enterBandwidth %>: </p> <div class="layout horizontal speed-display"> <div class="layout horizontal download-speed-display"> <iron-icon icon="arrow-circle-down"></iron-icon> <div> <span class="speed-header"><%= i18n.download %></span> <div class="speed-show"><span>404</span> <%= i18n.Mbps %></div> </div> </div> <div class="layout horizontal upload-speed-display"> <iron-icon icon="arrow-circle-up"></iron-icon> <div> <span class="speed-header"><%= i18n.upload %></span> <div class="speed-show"><span>404</span> <%= i18n.Mbps %></div> </div> </div> </div> </div> <div class="buttons"> <paper-button id="enter-manual-button"><%= i18n.enterManually %></paper-button> <paper-button id="done-button"><%= i18n.done %></paper-button> </div> </paper-dialog> <paper-dialog id="enter-speeds-dialog" modal> <h2 dialog-label><%= i18n.enterYourSpeeds %></h2> <div class="inner"> <p> <%= i18n.enterSpeeds %> </p> <div class="speed-display"> <div> <paper-input label="<%= i18n.download %>" prevent-invalid-input pattern="^[0-9]+$" allowed-pattern="^[0-9]+$" auto-validate step="10" min="0" value="100" class="isp-speed-input" id="isp-download-speed-input"> <div suffix><%= i18n.Mbps %></div> </paper-input> </div> <div> <paper-input label="<%= i18n.upload %>" prevent-invalid-input pattern="^[0-9]+$" allowed-pattern="^[0-9]+$" auto-validate step="10" min="0" value="100" class="isp-speed-input" id="isp-upload-speed-input"> <div suffix><%= i18n.Mbps %></div> </paper-input> </div> </div> </div> <div class="buttons"> <paper-button id="back-to-welcome-button"><%= i18n.back %></paper-button> <paper-button id="done-button"><%= i18n.done %></paper-button> </div> </paper-dialog> <paper-dialog id="high-speeds-dialog" modal> <h2 dialog-label><%= i18n.highSpeedSetup %></h2> <div class="inner"> <p> <%= i18n.qosLimits %> </p> <p> <%= i18n.changeAtAnyTime %> </p> <paper-radio-group selected="on" id="hardware-radio"> <paper-radio-button name="on"><%= i18n.yesDisable %></paper-radio-button> <paper-radio-button name="off"><%= i18n.noEnable %></paper-radio-button> </paper-radio-group> </div> <div class="buttons"> <paper-button id="back-to-enter-button"><%= i18n.back %></paper-button> <paper-button id="done-button"><%= i18n.done %></paper-button> </div> </paper-dialog> <% end %> <paper-dialog id="wireless-type-dialog" modal> <h2 dialog-label><%= i18n.chooseWirelessTypes %></h2> <paper-dialog-scrollable> <paper-listbox id="choose-wifi-type" attr-for-selected="value"> <paper-item value="0"><%= i18n.wirelessTypeNormal %></paper-item> <paper-item value="4"><%= i18n.wirelessTypeVideo %></paper-item> <paper-item value="6"><%= i18n.wirelessTypeGame %></paper-item> </paper-listbox> <div class="inner"> <paper-checkbox id="with-wan"><%= i18n.applyToWAN %></paper-checkbox> </div> </paper-dialog-scrollable> <div class="buttons"> <paper-button dialog-dismiss><%= i18n.cancel %></paper-button> <paper-button id="submit-wifi-type"><%= i18n.done %></paper-button> </div> </paper-dialog> </div> </duma-panel> <script src="/apps/com.netdumasoftware.qos/desktop/hyper-lane.js?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"></script> </duma-panel>