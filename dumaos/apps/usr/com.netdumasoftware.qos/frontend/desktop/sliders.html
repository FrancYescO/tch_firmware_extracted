<!--
  (C) 2017 NETDUMA Software
  Kian Cross
--> <%
require "libos"
local platform = os.platform_information()
local enable_auto_setup = not (platform.model == "XR500" or platform.model == "XR700")
%> <link rel="import" href="/custom-elements/paper-radio-group/paper-radio-group.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-radio-button/paper-radio-button.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-checkbox/paper-checkbox.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-slider/paper-slider.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/duma-panels/duma-panel.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-toast/paper-toast.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-dialog/paper-dialog.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-spinner/paper-spinner-lite.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-toggle-button/paper-toggle-button.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/duma-alert/duma-alert.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/duma-requires-rapp/duma-requires-rapp.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/themes/<%= current_theme %>/duma-theme.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/iron-flex-layout/iron-flex-layout-classes.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/libs/jquery.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/libs/rpc.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/libs/q.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <style is="custom-style" include="iron-flex iron-flex-alignment iron-positioning duma-theme"> .qos-unit  {
    margin-left: 2px;
  }	

  .buffer-options {
    margin-bottom: 8px;
  }

  .buffer-options label {
    margin-right: 16px;
  }
  .buffer-options .right {
    margin-left: auto;
  }

  .qos-bandwidth span.title {
    @apply(--paper-font-title);
    margin-left: 16px;
  }
  
  .qos-bandwidth {
    width: 6rem;
  }

  .qos-bandwidth span {
    @apply(--paper-font-body1);
  }

  paper-checkbox .subtitle {
    display: block;
    font-size: 0.8em;
    margin-top: 2px;
    max-width: 150px;
  }

  .center-bar {
    justify-content: space-between;
  }

  .caption.slider-caption + div {
    margin-top: -1em;
  }
  #show-network-speeds-dialog {
    margin-bottom: 1em;
  } </style> <link rel="import" href="/apps/com.netdumasoftware.qos/desktop/qos.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <duma-panel header="<%= i18n.header %>" show-drawer show-pin drawer-header="<%= i18n.drawerHeader %>" show-help show-help-tip show-drawer-help show-drawer-help-tip id="qos-sliders-panel"> <div help-content> <p> <%= i18n.helpContent1 %> </p> <div class="layout horizontal"> <figure class="flex flex-left"> <img src="/apps/com.netdumasoftware.qos/desktop/help-images/anti-queuing-1.svg?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <figcaption> <%= i18n.helpContentCaption1 %> </figcaption> </figure> <figure class="flex flex-right"> <img src="/apps/com.netdumasoftware.qos/desktop/help-images/anti-queuing-2.svg?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <figcaption> <%= i18n.helpContentCaption2 %> </figcaption> </figure> </div> <p> <%= i18n.helpContent2 %> </p> </div> <div help-tip> <%= i18n.helpTip %> </div> <div drawer-help-content> <% if platform.vendor ~= "TELSTRA" then %> <%= i18n.drawerHelpContent %> <% else %> <%= i18n.drawerHelpContent_Telstra %> <% end %> </div> <div drawer-help-tip> <%= i18n.drawerHelpTip %> </div> <div drawer> <!--
    <paper-toggle-button id="auto-throttle" checked> <%= i18n.autoThrottle %> </paper-toggle-button>
--> <div> <paper-button id="show-network-speeds-dialog" background><%= i18n.setBandwidthSpeeds %></paper-button> </div> <% if platform.vendor ~= "TELSTRA" then %> <paper-checkbox id="goodput"><%= i18n.goodputCheckbox %></paper-checkbox> <% end %> <paper-checkbox id="disableall"> <%= i18n.disableQos %> <div class="subtitle"><%= i18n.notRecommended %></div> </paper-checkbox> <!--paper-checkbox>Diurnal</paper-checkbox>
    <paper-checkbox>Passive measurements</paper-checkbox>
    <paper-checkbox>Anti-spike</paper-checkbox>
    <paper-checkbox>Anti-jitter</paper-checkbox>
    <paper-checkbox>Pre-emptive Algorithm</paper-checkbox--> </div> <div main> <div class="inner layout vertical"> <div class="layout horizontal buffer-options"> <label class="caption self-center"><%= i18n.apply %>:</label> <paper-radio-group id="atstate"> <paper-radio-button name="1"><%= i18n.always %></paper-radio-button> <paper-radio-button name="2"><%= i18n.highPriorityDetected %></paper-radio-button> <paper-radio-button name="3"><%= i18n.never %></paper-radio-button> </paper-radio-group> <% if enable_auto_setup then %> <div class="right"> <duma-requires-rapp id="auto-setup-require" rapp="com.netdumasoftware.benchmark" imports='["/apps/com.netdumasoftware.qos/desktop/qos-auto-setup.html"]'> <qos-auto-setup running></qos-auto-setup> </duma-requires-rapp> </div> <% end %> </div> <div class="layout horizontal"> <div class="flex"> <label class="caption"><%= i18n.download %></label> <div class="layout horizontal"> <div class="flex"> <% if platform.vendor == "TELSTRA" then %> <paper-slider max="100" id="download-slider" pin editable force-markers max-markers="100" secondary-progress="50" secondary-as-min marker-label="<%= i18n.minimumDownloadLimit %>" aria-label="<%= i18n.ariaSliderDownload %>" aria-value-unit="<%= i18n.ariaSliderUnit %>"></paper-slider> <% else %> <paper-slider max="100" id="download-slider" pin editable aria-label="<%= i18n.ariaSliderDownload %>" aria-value-unit="<%= i18n.ariaSliderUnit %>"></paper-slider> <% end %> </div> <div class="flex-none self-center qos-unit">%</div> <div class="flex-none self-center qos-bandwidth"> <span class="title" id="download-achievable-bandwidth"></span><span><%= i18n.mbpsUnit %></span> </div> </div> <label class="caption"><%= i18n.upload %></label> <div class="layout horizontal"> <div class="flex"> <% if platform.vendor == "TELSTRA" then %> <paper-slider max="100" id="upload-slider" pin editable accent force-markers max-markers="100" secondary-progress="85" secondary-as-min marker-label="<%= i18n.minimumUploadLimit %>" aria-label="<%= i18n.ariaSliderUpload %>" aria-value-unit="<%= i18n.ariaSliderUnit %>" accent></paper-slider> <% else %> <paper-slider max="100" id="upload-slider" pin editable accent aria-label="<%= i18n.ariaSliderUpload %>" aria-value-unit="<%= i18n.ariaSliderUnit %>"></paper-slider> <% end %> </div> <div class="flex-none self-center qos-unit">%</div> <div class="flex-none self-center qos-bandwidth"> <span class="title" id="upload-achievable-bandwidth"></span><span><%= i18n.mbpsUnit %></span> </div> </div> <div class="layout horizontal"> <div class="flex"> <paper-toast duration="0" text="<%= i18n.qosApplicationFailedError %>"></paper-toast> </div> </div> </div> </div> </div> <paper-dialog id="sliders-loader-dialog" modal> <h2 dialog-label><%= i18n.applyingSettings %></h2> <div class="layout horizontal center-justified"> <paper-spinner-lite></paper-spinner-lite> </div> </paper-dialog> <duma-alert id="sliders-duma-alert"></duma-alert> <duma-alert id="sliders-always-100"> <h2><%= i18n.always100AlertTitle %></h2> <p> <%= i18n.always100AlertContent %> </p> </duma-alert> <duma-alert id="sliders-always-not-100"> <h2><%= i18n.alwaysNot100AlertTitle %></h2> <p> <%= i18n.alwaysNot100AlertContent %> </p> </duma-alert> <duma-alert id="sliders-hpt-100"> <h2><%= i18n.always100AlertTitle %></h2> <p> <%= i18n.always100AlertContent %> </p> </duma-alert> <duma-alert id="sliders-hpt-not-100"> <h2><%= i18n.alwaysNot100AlertTitle %></h2> <p> <%= i18n.hptNot100AlertContent %> </p> </duma-alert> <duma-alert id="sliders-never-unchanged"> <h2><%= i18n.neverUnchangedAlertTitle %></h2> <p> <%= i18n.neverUnchangedAlertContent %> </p> </duma-alert> <duma-alert id="sliders-never-changed"> <h2><%= i18n.neverUnchangedAlertTitle %></h2> <p> <%= i18n.neverChangedAlertContent %> </p> </duma-alert> <duma-alert id="disableqos-alert"> <h2><%= i18n.disableAllQoSWarningHeader %></h2> <p><%= i18n.disableAllQosWarningContent %></p> </duma-alert> <duma-alert id="disabled-on-init"> <h2><%= i18n.qosFeaturesDisabledHeader %></h2> <p><%= i18n.qosFeaturesDisabledContent %></p> </duma-alert> </div> </duma-panel> <script src="/apps/com.netdumasoftware.qos/desktop/sliders.js?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"></script> 