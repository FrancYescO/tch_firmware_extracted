<!--
  (C) 2018 NETDUMA Software
  Luke Meppem
--> <link rel="import" href="/custom-elements/polymer/polymer.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/duma-panels/duma-panel.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/duma-map/duma-map.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/iron-icon/iron-icon.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/iron-icons/iron-icons.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/iron-icons/image-icons.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/iron-icons/maps-icons.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/duma-chart/duma-chart.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/iron-flex-layout/iron-flex-layout-classes.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/duma-alert/duma-alert.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-button/paper-button.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-listbox/paper-listbox.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-item/paper-item.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-slider/paper-slider.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-checkbox/paper-checkbox.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-icon-button/paper-icon-button.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-toggle-button/paper-toggle-button.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/paper-dropdown-menu/paper-dropdown-menu.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/custom-elements/duma-zoom-slider/duma-zoom-slider.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/libs/jquery.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/libs/q.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/libs/d3.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/libs/moment.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/libs/devices.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/libs/colours.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/libs/storage.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/apps/com.netdumasoftware.pingheatmap/desktop/util.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/apps/com.netdumasoftware.pingheatmap/desktop/ping-log.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/apps/com.netdumasoftware.pingheatmap/desktop/ping-history.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/apps/com.netdumasoftware.pingheatmap/desktop/set-tracking.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/apps/com.netdumasoftware.pingheatmap/desktop/ping-custom-list.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/apps/com.netdumasoftware.pingheatmap/desktop/ping-servers-svg.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <link rel="import" href="/themes/<%= current_theme %>/duma-theme.html?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"> <style is="custom-style" include="duma-theme iron-flex"> .horizontal-wrapper {
    height: 100%;
    min-height: 256px;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
  }
  .horizontal-wrapper > *:nth-child(1) {
    flex-grow: 1;
  }
  .pingmap-wrapper {
    height: 100%;
    min-height: 256px;
    position:relative;
    @apply(--layout-flex);
  }

  .ping-top-bar {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
  }
  .targeter-wrapper {
    display: flex;
    flex-direction: row;
    justify-content: flex-start;
    align-items: center;
    flex-grow: 1;
  }
  .targeter-wrapper > *:nth-child(n+1) {
    padding-left: 1em;
  }
  .track-wrapper {
    overflow: hidden;
    display: flex;
    flex-direction: row;
    align-items: center;
    height: 100%;
    transition: width 1s;
  }
  .track-wrapper > * {
    margin-right: 1em;
  }
  .track-wrapper paper-checkbox span, #reping-button span, #set-track-button span, #time-until {
    white-space: nowrap !important;
  }
  #reping-button, #set-track-button {
    flex-shrink: 0;
  }
  #time-until {
    color: var(--secondary-text-color);
  }
  #time-until span{
    margin-left: 0.3em;
  }
  .default-title {
    margin-top: 1em;
    margin-bottom: 0.1em;
  }
  #ping-targets ::content paper-listbox ::content paper-item * {
    white-space: pre;
  }
  .top-bar paper-icon-button:hover ::content iron-icon {
    /* stroke: var(--primary-color) !important; */
    fill: var(--primary-color) !important;
  }

  .ping-top-bar .legend-wrapper {
    display: flex;
    flex-direction: row;
    justify-content: flex-end;
    align-items: center;
    flex-grow: 1;
    padding-right: 5em;
  }
  .ping-top-bar .gradient {
    background: linear-gradient(to right, <%= theme.RATING_APLUS %>, <%= theme.RATING_A %>, <%= theme.RATING_B %>, <%= theme.RATING_C %>, <%= theme.RATING_D %>);
    min-width: 100px;
    max-width: 50%;
    width: 42%;
    height: 6px;
    margin: 0 0.4em;
  }

  .log-container {
    position: relative;
  }
  .bottom-bar {
    position: absolute;
    bottom: 0;
    width: 100%;
  }
  .zoom-slider-container {
    position: absolute;
    left: 1em;
    bottom: 8.5em !important;
    height: 15em;
    padding: 16px;
  } </style> <duma-panel header="<%= i18n.header %>" show-pin show-help show-help-tip show-drawer> <div help-content> <p> <!-- TODO move to translations --> <%= i18n.helpContent %> </p> </div> <div help-tip> <%= i18n.helpTip %> </div> <div drawer> <div class="layout vertical"> <div class="default-title"><%= i18n.pingClusterDefault %></div> <div class="cluster-toggle-wrapper layout horizontal"> <paper-toggle-button></paper-toggle-button><p></p> </div> <div class="default-title"><%= i18n.saveManual %></div> <div class="manual-toggle-wrapper layout horizontal"> <paper-toggle-button checked="checked"></paper-toggle-button><p></p> </div> <paper-button id="add-custom-list" background><%= i18n.addCustomList %></paper-button> <paper-button id="force-cloud-update-button"><%= i18n.forceCloudUpdate %></paper-button> </div> </div> <div main class="horizontal-wrapper"> <div class="layout vertical"> <div class="ping-top-bar"> <div class="layout horizontal targeter-wrapper"> <paper-dropdown-menu id="ping-targets" label="<%= i18n.selectPingTarget %>"> <paper-listbox class="dropdown-content"></paper-listbox> </paper-dropdown-menu> <div class="track-wrapper"> <paper-button id="reping-button" background disabled="disabled"><span><%= i18n.pingAgain %></span></paper-button> <paper-button id="set-track-button" disabled="disabled"><%= i18n.schedule %></paper-button> <paper-tooltip position="bottom" for="set-track-button" animation-delay="0" offset="0"><%= i18n.schedule %></paper-tooltip> <div id="time-until"> <span><%= i18n.nextPing %></span><span id="time-until-span"></span> </div> </div> </div> <div class="legend-wrapper"> <div> &lt;15 ms </div> <div class="gradient"></div> <div> &gt;200 ms </div> </div> <div class="log-container"> <ping-log></ping-log> </div> </div> <div class="pingmap-wrapper"> <duma-map prevent-radial-animation></duma-map> <ping-servers-svg></ping-servers-svg> </div> <div class="bottom-bar"> <div class="zoom-slider-container"> <duma-zoom-slider></duma-zoom-slider> </div> <ping-history></ping-history> </div> </div> <duma-alert></duma-alert> <ping-custom-list></ping-custom-list> <set-tracking></set-tracking> </div> </duma-panel> <script src="/apps/com.netdumasoftware.pingheatmap/desktop/ping-map.js?v=<%= dumaos_version %>&lang=<%= lang %>&theme=<%= current_theme %>&themeVersion=<%= current_theme_version %>"></script> 