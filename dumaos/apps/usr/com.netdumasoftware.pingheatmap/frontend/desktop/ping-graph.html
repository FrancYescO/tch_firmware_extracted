<!--
  (C) 2018 NETDUMA Software
  Kian Cross <kian.cross@netduma.com>
--> <link rel="import" href="/custom-elements/polymer/polymer.html"> <link rel="import" href="/custom-elements/duma-panels/duma-panel.html"> <link rel="import" href="/custom-elements/duma-chart/duma-chart.html"> <link rel="import" href="/custom-elements/paper-button/paper-button.html"> <link rel="import" href="/custom-elements/iron-pages/iron-pages.html"> <link rel="import" href="/libs/jquery.html"> <link rel="import" href="/libs/q.html"> <link rel="import" href="/libs/chart.html"> <link rel="import" href="/libs/chart-extensions.html"> <link rel="import" href="/libs/colours.html"> <link rel="import" href="/apps/com.netdumasoftware.pingheatmap/desktop/util.html"> <link rel="import" href="/apps/com.netdumasoftware.pingheatmap/desktop/ping-history-range.html"> <link rel="import" href="/apps/com.netdumasoftware.pingheatmap/desktop/word-type.html"> <link rel="import" href="/apps/com.netdumasoftware.pingheatmap/desktop/add-to-list.html"> <link rel="import" href="/themes/<%= current_theme %>/duma-theme.html"> <style is="custom-style" include="duma-theme iron-flex"> .top-graph-bar {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    padding: 1em 3em;
  }
  .left * {
    margin-right: 1em;
  }
  .right * {
    margin-left: 1em;
  }
  .graph-legend li span{
    display: inline-block;
    width: 12px;
    height: 12px;
    margin-right: 5px;
  }

  .graph-legend{
    overflow-y: auto;
    display: flex;
    flex-direction: row;
    justify-content: flex-end;
  }
  .graph-legend ul{
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
  }

  .graph-legend li{
    margin-left: 1.772em;
    list-style: none;
  }

  .average-ping span {
    border: thin dashed var(--secondary-text-color);
  }
  .info-display {
    display: flex;
    flex-direction: row;
    align-items: center;
    min-width: 15em;
  }
  .info-display.dark {
    color: var(--disabled-text-color);
  }
  .no-ping-history {
    padding-top: 10em;
    text-align: center;
  }
  #pages-selection, #pages-selection > iron-page {
    display: flex;
    flex-grow: 1;
  }
  
  #pages-selection > iron-page > div {
    display: flex;
    flex-direction: column;
    flex-grow: 1;
  }
  #pages-selection > iron-page > div > duma-chart {
    height: 100%;
  }

  .middle {
    flex-grow: 1;
  }
  .middle .legend-wrapper {
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    flex-grow: 1;
    padding-left: 1.5em;
  }
  .middle .gradient {
    background: linear-gradient(to right, <%= theme.RATING_APLUS %>, <%= theme.RATING_A %>, <%= theme.RATING_B %>, <%= theme.RATING_C %>, <%= theme.RATING_D %>);
    min-width: 100px;
    max-width: 50%;
    width: 21%;
    height: 6px;
    margin: 0 0.4em;
  } </style> <duma-panel header="Server Ping Graph" show-pin show-help show-help-tip> <div help-content> <p> The graph below shows the ping to this server over time. If it is empty, you need to click <iron-icon icon="schedule"></iron-icon> on the panel above. Your average ping is shown by the dotted line, and your current ping is shown by the white arrow on the right. You can use the bar at the bottom to adjust the displayed timespan. </p> </div> <div help-tip> By pressing Add To List, you can assemble your own custom lists of servers. These servers can then be pinged as a group, separately from the game based lists they came from. You can also choose to track these servers separately from other game servers. </div> <div main class="layout vertical"> <div class="top-graph-bar inner"> <div class="left layout horizontal"> <paper-button id="AddToList" background>Add to list</paper-button> <div class="info-display"> <span>Server IP:</span> <label id="ipAddress">0.0.0.0</label> </div> </div> <div class="middle graph-legend"> <ul></ul> <div class="legend-wrapper"> <div> &lt;15 ms </div> <div class="gradient"></div> <div> &gt;200 ms </div> </div> </div> <div class="right layout horizontal"> <div class="info-display"> <span>Current Ping:</span> <label id="currentPing">0</label> </div> </div> </div> <iron-pages id="pages-selection" selected="0"> <iron-page> <div class="no-ping-history"> <div> <p> No saved ping history found for this server. </p> <p> To store manual pings, enable 'Save Manual Pings' in the Ping Heatmap options menu. </p> </div> </div> </iron-page> <iron-page> <div> <duma-chart id="scatter-graph" type="line" height="350"></duma-chart> <ping-history-range></ping-history-range> </div> </iron-page> </iron-pages> </div> </duma-panel> <duma-alert></duma-alert> <add-to-list></add-to-list> <script src="/apps/com.netdumasoftware.pingheatmap/desktop/ping-graph.js"></script> 