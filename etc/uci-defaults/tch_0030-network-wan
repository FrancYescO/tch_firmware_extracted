#!/bin/sh

. /lib/functions/uci-defaults.sh

uci set network.wan=interface
uci set network.wan.proto='pppoe'
uci set network.wan.keepalive='5,10'
uci set network.wan.pppoe_backoff=1,32
uci set network.wan.username=`uci get env.var.pppuser`
uci set network.wan.password=`uci get env.var.ppppassword`
uci set network.wan.ipv6='1'
uci set network.wan.auto='0'

uci set network.wwan=interface
uci set network.wwan.auto='0'

uci set network.wan6=interface
uci set network.wan6.ifname='@wan'
uci set network.wan6.proto='dhcpv6'
uci set network.wan6.reqopts='12 21 22 23 24 25 31 56 64 67 82 83'
uci set network.wan6.noslaaconly='1'
uci set network.wan6.iface_464xlat='0'
uci set network.wan6.reqaddress=none

uci set network.ppp_8_35=interface
uci set network.ppp_8_35.ifname='atm_8_35'
uci set network.ppp_8_35.proto='pppoe'
uci set network.ppp_8_35.keepalive='5,10'
uci set network.ppp_8_35.pppoe_backoff='1,32'
uci set network.ppp_8_35.username=`uci get env.var.pppuser`
uci set network.ppp_8_35.password=`uci get env.var.ppppassword`
uci set network.ppp_8_35.auto='0'

uci set network.ppp_8_81=interface
uci set network.ppp_8_81.ifname='atm_8_81'
uci set network.ppp_8_81.proto='pppoe'
uci set network.ppp_8_81.keepalive='5,10'
uci set network.ppp_8_81.pppoe_backoff='1,32'
uci set network.ppp_8_81.username=`uci get env.var.pppuser`
uci set network.ppp_8_81.password=`uci get env.var.ppppassword`
uci set network.ppp_8_81.auto='0'

uci set network.ptm0_v881=device
uci set network.ptm0_v881.ifname='ptm0'
uci set network.ptm0_v881.vid='881'
uci set network.ptm0_v881.type='8021q'
uci set network.ptm0_v881.name='ptm0_v881'

uci set network.eth4_v881=device
uci set network.eth4_v881.ifname='eth4'
uci set network.eth4_v881.vid='881'
uci set network.eth4_v881.type='8021q'
uci set network.eth4_v881.name='eth4_v881'

uci commit network

exit 0
