location = /bower.json {
  include tch_auth.conf;
  include duma_proxy.conf;
}

location = /ndindex.html {
  include tch_auth.conf;
  include duma_proxy.conf;
}

location ^~ /desktop/favicons/ {
  include duma_proxy.conf;
}

location = /desktop/bg.svg {
  include duma_proxy.conf;
}

location = /desktop/dumaos.svg {
  include duma_proxy.conf;
}

location = /desktop/logo.png {
  include duma_proxy.conf;
}

location = /desktop/netduma.svg {
  include duma_proxy.conf;
}

location = /desktop/netgear-nighthawk.svg {
  include duma_proxy.conf;
}

location = /desktop/netgear.svg {
  include duma_proxy.conf;
}

location = /desktop/preloader.css {
  include duma_proxy.conf;
}

location = /desktop/resize.svg {
  include duma_proxy.conf;
}

location = /desktop/telstra.svg {
  include duma_proxy.conf;
}

location = /desktop/Game_Optimiser_Buy_Page_Graphic.svg {
  include duma_proxy.conf;
}

location = /desktop/Game_Optimiser_Buy_Page_Graphic_2.svg {
  include duma_proxy.conf;
}

location = /desktop/Game_Optimiser_Logo.svg {
  include duma_proxy.conf;
}

location = /desktop/Powered_By_DumaOS_Black.svg {
  include duma_proxy.conf;
}

location = /desktop/Welcome_To_Game_Optimiser.svg {
  include duma_proxy.conf;
}

location = /desktop/unsupported.css {
  include duma_proxy.conf;
}

location = /desktop/index.html {
  include tch_auth.conf;
  include duma_proxy.conf;
  header_filter_by_lua '
    ngx.header.content_length = nil
  ';
  body_filter_by_lua '
    local data = ngx.arg[1]
    if data:match("\<head>") then
      data = data:gsub("\<head>", \'<head>\\n    <meta name="CSRFtoken" content="\'..ngx.ctx.session:getCSRFtoken()..\'">\', 1)
      ngx.arg[1] = data
    end
  ';
}

location ^~ /desktop/ {
  include tch_auth.conf;
  include duma_proxy.conf;
}

location ^~ /nd-js/ {
  include tch_auth.conf;
  include duma_proxy.conf;
}

location ^~ /libs/ {
  include tch_auth.conf;
  include duma_proxy.conf;
}

location = /nd-css/gridstack.css {
  include duma_proxy.conf;
}

location = /nd-css/hopscotch.css {
  include duma_proxy.conf;
}

location ^~ /nd-css/ {
  include tch_auth.conf;
  include duma_proxy.conf;
}

location ^~ /json/ {
  include tch_auth.conf;
  include duma_proxy.conf;
}

location ^~ /custom-elements/duma-font-roboto/roboto/ {
  include duma_proxy.conf;
}

location ^~ /custom-elements/duma-font-roboto/roboto-mono/ {
  include duma_proxy.conf;
}

location ^~ /custom-elements/ {
  include tch_auth.conf;
  include duma_proxy.conf;
}

location ^~ /cgi-bin/ {
  include tch_auth.conf;
  include duma_proxy.conf;
}

location = /img/sprite-green.png {
  include duma_proxy.conf;
}

location = /img/sprite-orange.png {
  include duma_proxy.conf;
}

location ^~ /data/ {
  include tch_auth.conf;
  include duma_proxy.conf;
}

location ^~ /language/ {
  include tch_auth.conf;
  include duma_proxy.conf;
}

location ^~ /themes/ {
  include duma_proxy.conf;
}

location = /apps/com.netdumasoftware.adblocker/shared/adblocker.svg {
  include duma_proxy.conf;
}

location = /apps/com.netdumasoftware.adblocker/frontend/shared/adblocker.svg {
  include duma_proxy.conf;
}

location = /apps/com.netdumasoftware.benchmark/frontend/shared/benchmark.svg {
  include duma_proxy.conf;
}

location = /apps/com.netdumasoftware.benchmark/shared/benchmark.svg {
  include duma_proxy.conf;
}

location = /apps/com.netdumasoftware.desktop/frontend/shared/dashboard.svg {
  include duma_proxy.conf;
}

location = /apps/com.netdumasoftware.desktop/shared/dashboard.svg {
  include duma_proxy.conf;
}

location = /apps/com.netdumasoftware.devicemanager/frontend/shared/device-manager.svg {
  include duma_proxy.conf;
}

location ^~ /apps/com.netdumasoftware.devicemanager/frontend/shared/icons/ {
  include duma_proxy.conf;
}

location = /apps/com.netdumasoftware.devicemanager/shared/device-manager.svg {
  include duma_proxy.conf;
}

location ^~ /apps/com.netdumasoftware.geofilter/desktop/help-images/ {
  include duma_proxy.conf;
}

location ^~ /apps/com.netdumasoftware.geofilter/frontend/desktop/help-images/ {
  include duma_proxy.conf;
}

location = /apps/com.netdumasoftware.geofilter/frontend/shared/geofilter.svg {
  include duma_proxy.conf;
}

location ^~ /apps/com.netdumasoftware.geofilter/frontend/shared/icons/ {
  include duma_proxy.conf;
}

location = /apps/com.netdumasoftware.geofilter/shared/geofilter.svg {
  include duma_proxy.conf;
}

location = /apps/com.netdumasoftware.networkmonitor/frontend/shared/network-monitor.svg {
  include duma_proxy.conf;
}

location = /apps/com.netdumasoftware.networkmonitor/shared/network-monitor.svg {
  include duma_proxy.conf;
}

location = /apps/com.netdumasoftware.ngportal/frontend/shared/settings.svg {
  include duma_proxy.conf;
}

location = /apps/com.netdumasoftware.ngportal/shared/settings.svg {
  include duma_proxy.conf;
}

location = /apps/com.netdumasoftware.pingheatmap/frontend/shared/ping-heatmap.svg {
  include duma_proxy.conf;
}

location ^~ /apps/com.netdumasoftware.pingheatmap/frontend/shared/icons/ {
  include duma_proxy.conf;
}

location = /apps/com.netdumasoftware.pingheatmap/shared/ping-heatmap.svg {
  include duma_proxy.conf;
}

location ^~ /apps/com.netdumasoftware.qos/desktop/help-images/ {
  include duma_proxy.conf;
}

location ^~ /apps/com.netdumasoftware.qos/frontend/desktop/help-images/ {
  include duma_proxy.conf;
}

location = /apps/com.netdumasoftware.qos/frontend/shared/qos.svg {
  include duma_proxy.conf;
}

location = /apps/com.netdumasoftware.qos/shared/qos.svg {
  include duma_proxy.conf;
}

location = /apps/com.netdumasoftware.systeminfo/frontend/shared/ {
  include duma_proxy.conf;
}

location = /apps/com.netdumasoftware.systeminfo/shared/system-info.svg {
  include duma_proxy.conf;
}

location = /apps/com.netdumasoftware.systeminfo/shared/default.svg {
  include duma_proxy.conf;
}

location = /apps/com.netdumasoftware.trafficcontroller/frontend/shared/trafficcontroller.svg {
  include duma_proxy.conf;
}

location = /apps/com.netdumasoftware.trafficcontroller/shared/trafficcontroller.svg {
  include duma_proxy.conf;
}

location ^~ /apps/ {
  include tch_auth.conf;
  include duma_proxy.conf;
}
