#!/bin/sh

# clash-mpstat-wrapper is designed for the CLI's (clash) mpstat command.
# It may be used from a root shell, but this is not its main purpose.

# The wrapper's reason of existence is to circumvent mpstat's unbuffered output.
#   If `mpstat` is plainly executed from transformer, its unbuffered output
#   ends up in chunks in clash, and the linenoise library adds a newline to every chunk.
#   This leads to malformatted output which is very hard to interpret by the user.


# Simply call mpstat with the provided arguments, and pipe through grep
#   which will provide its output in proper lines to clash.
mpstat "$@" | grep '^'
