local mapper = mapper
local config_mqtt = "mqttjson_services"

-- uci.mqttjson_services
mapper("uci_1to1").registerConfigMap(config_mqtt)

-- uci.mqttjson_services.config
local mqtt_config = {
  config = config_mqtt,
  section = "config",
  options = { "enabled", "cert_location", "connection_url", "connection_port", "tls_enabled", "tls_certs", "tls_keyform", "log_level", "ui_version", "customer_name", "customer_name_enabled", "service_id_enabled", "get_device_list", "get_timeout_list", "ignore_physical_auth" }
}

local uci_mqtt_config = mapper("uci_1to1").createSimpleMap(mqtt_config)
register(uci_mqtt_config)

-- uci.mqttjson_services.registration
local mqtt_registration = {
  config = config_mqtt,
  section = "registration",
  options = { "register", "request_id", "retry_count" }
}

local uci_mqtt_registration = mapper("uci_1to1").createSimpleMap(mqtt_registration)
register(uci_mqtt_registration)
